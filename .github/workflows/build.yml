name: Build
on: 
  workflow_call:
    inputs:
      NODE_VERSION:
        description: Node Version Number
        required: true
        type: number
      BUILD_FOLDER:
        description: Build Folder
        required: true
        type: string

jobs: 
  build:
    runs-on: ubuntu-20.04
    steps:
    - uses: actions/checkout@v3

    - name: Load & Cache Dependencies
      uses: ./.github/actions/cached-deps

      # Build the Project with npm run build
    - name: Build Project
      run: npm run build

      # Upload Files for other Jobs to download
    - name: Upload Artifacts
      uses: actions/upload-artifact@v3
      with:
        name: build-files
        path: |
          ${{inputs.BUILD_FOLDER}}
          package.json
          package-lock.json